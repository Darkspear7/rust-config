language: rust
env:
    - CHANNEL = "beta"
    - CHANNEL = "nightly"
before_install: true
install:
    - mkdir ~/rust
    - curl -s https://static.rust-lang.org/rustup.sh | sudo sh -s -- --channel=$CHANNEL --prefix=~/rust
before_script:
    - rustc --version
    - cargo --version
script:
    - cargo build --verbose
    - cargo test --verbose
notifications:
  email:
    recipients:
      - filipe@codinghighway.com
  irc:
    channels:
      - "irc.mozilla.org#rust-config"
      - "irc.mindforge.org#codinghighway"
